ggplot(manofac, aes(x=anio, y= part)) +
geom_area(color="turquoise4",  fill="#69b3a2", alpha=0.4) +
geom_line(color="#69b3a2", size=2) +
theme_light() +
labs(x="Año", y="Investigadores", title="Total de Investigadores en la Provincia") +
theme(plot.title = element_text(hjust=0.5, size=20, face="bold"))
ggplot(manofac, aes(x=anio, y= part)) +
geom_area(color="turquoise4",  fill="#69b3a2", alpha=0.4) +
theme_light() +
labs(x="Año", y="Investigadores", title="Total de Investigadores en la Provincia") +
theme(plot.title = element_text(hjust=0.5, size=20, face="bold"))
ggplot(manofac, aes(x=anio, y= part)) +
geom_line(color="#69b3a2", size=2) +
geom_point(size=3, color="#69b3a2") +
theme_light() +
labs(x="Año", y="Investigadores", title="Total de Investigadores en la Provincia") +
theme(plot.title = element_text(hjust=0.5, size=20, face="bold"))
manofac[, periodo := paste(anio,trim)
ggplot(manofac, aes(x=periodo, y= part)) +
manofac[, periodo := paste(anio,trim)]
manofac <- read_xlsx("datos/Part manofactura.xlsx")
setDT(manofac)
manofac$part <- as.numeric(manofac$part)
manofac$anio <- as.numeric(manofac$anio)
manofac[, periodo := paste(anio,trim)]
```{r, echo=FALSE}
ggplot(manofac, aes(x=periodo, y= part)) +
geom_line(color="#69b3a2", size=2) +
geom_point(size=3, color="#69b3a2") +
theme_light() +
labs(x="Año", y="Investigadores", title="Total de Investigadores en la Provincia") +
theme(plot.title = element_text(hjust=0.5, size=20, face="bold"))
ggplot(manofac, aes(x=periodo, y= part)) +
geom_area(color="turquoise4",  fill="#69b3a2", alpha=0.4) +
geom_line(color="#69b3a2", size=2) +
geom_point(size=3, color="#69b3a2") +
theme_light() +
labs(x="Año", y="Investigadores", title="Total de Investigadores en la Provincia") +
theme(plot.title = element_text(hjust=0.5, size=20, face="bold"))
ggplot(manofac, aes(x=periodo, y= part)) +
geom_area(color="turquoise4",  fill="#69b3a2", alpha=0.4) +
geom_line(color="#69b3a2", size=2) +
theme_light() +
labs(x="Año", y="Investigadores", title="Total de Investigadores en la Provincia") +
theme(plot.title = element_text(hjust=0.5, size=20, face="bold"))
manofac$part <- as.numeric(manofac$part)
manofac$anio <- as.numeric(manofac$anio)
manofac$part <- as.numeric(manofac$part*100)
manofac$anio <- as.numeric(manofac$anio)
manofac[, periodo := paste(anio,trim)]
manofac <- read_xlsx("datos/Part manofactura.xlsx")
setDT(manofac)
manofac$part <- as.numeric(manofac$part*100)
manofac$anio <- as.numeric(manofac$anio)
manofac[, periodo := paste(anio,trim)]
```{r, echo=FALSE}
ggplot(manofac, aes(x=periodo, y= part)) +
geom_area(color="turquoise4",  fill="#69b3a2", alpha=0.4) +
geom_line(color="#69b3a2", size=2) +
theme_light() +
labs(x="Año", y="Investigadores", title="Total de Investigadores en la Provincia") +
theme(plot.title = element_text(hjust=0.5, size=20, face="bold"))
ggplot(manofac, aes(x=periodo, y= part)) +
geom_area(color="turquoise4",  fill="#69b3a2", alpha=0.4) +
theme_light() +
labs(x="Año", y="Investigadores", title="Total de Investigadores en la Provincia") +
theme(plot.title = element_text(hjust=0.5, size=20, face="bold"))
View(manofac)
a <- fread("https://cdn.produccion.gob.ar/cdn-cep/datos-por-departamento/puestos/puestos_depto_priv_por_clae2.csv")
clae <- fread("https://cdn.produccion.gob.ar/cdn-cep/datos-por-departamento/diccionario_clae2.csv")
View(a)
View(a)
empleo <- fread("https://cdn.produccion.gob.ar/cdn-cep/datos-por-departamento/puestos/puestos_depto_priv_por_clae2.csv")
empleo <- fread("https://cdn.produccion.gob.ar/cdn-cep/datos-por-departamento/puestos/puestos_depto_priv_por_clae2.csv")
View(clae)
empleo <- subset(empleo, empleo$puestos > 0)
clae <- fread("https://cdn.produccion.gob.ar/cdn-cep/datos-por-departamento/diccionario_clae2.csv")
merge(empleo,clae, by = c"clae2")
empleo <- merge(empleo,clae, by = c"clae2")
View(clae)
View(empleo)
empleo <- merge(empleo,clae, by = "clae2")
View(empleo)
empleo
empleo <- empleo[, .(total = sum(puestos)), by = . (fecha,letra_desc)]
View(empleo)
empleo_tot <- empleo[, .(total = sum(puestos)), by = . (fecha)]
empleo_tot <- empleo[, .(total = sum(puestos)), by = . (fecha)]
empleo <- merge(empleo,clae, by = "clae2")
empleo <- fread("https://cdn.produccion.gob.ar/cdn-cep/datos-por-departamento/puestos/puestos_depto_priv_por_clae2.csv")
empleo <- fread("https://cdn.produccion.gob.ar/cdn-cep/datos-por-departamento/puestos/puestos_depto_priv_por_clae2.csv")
empleo <- subset(empleo, empleo$puestos > 0)
clae <- fread("https://cdn.produccion.gob.ar/cdn-cep/datos-por-departamento/diccionario_clae2.csv")
empleo <- merge(empleo,clae, by = "clae2")
empleo_sect <- empleo[, .(total = sum(puestos)), by = . (fecha,letra_desc)]
empleo_tot <- empleo[, .(total = sum(puestos)), by = . (fecha)]
View(empleo_tot)
empleo <- fread("https://cdn.produccion.gob.ar/cdn-cep/datos-por-departamento/puestos/puestos_depto_priv_por_clae2.csv")
empleo <- subset(empleo, empleo$puestos > 0)
clae <- fread("https://cdn.produccion.gob.ar/cdn-cep/datos-por-departamento/diccionario_clae2.csv")
empleo <- merge(empleo,clae, by = "clae2")
empleo_sect <- empleo[, .(total = sum(puestos)), by = . (fecha,letra_desc)]
empleo_tot <- empleo[, .(total = sum(puestos)), by = . (fecha)]
ggplot(empleo_tot, aes(x=fecha, y= total)) +
geom_area(color="turquoise4",  fill="#69b3a2", alpha=0.4) +
geom_line(color="#69b3a2", size=2) +
geom_point(size=3, color="#69b3a2") +
theme_light() +
labs(x="Año", y="Investigadores", title="Empleo formal en la Provincia") +
theme(plot.title = element_text(hjust=0.5, size=20, face="bold"))
## Buscar como mostrar puestos de mepleo por sector
empleo <- subset(empleo, empleo$id_provincia_indec == 22)
clae <- fread("https://cdn.produccion.gob.ar/cdn-cep/datos-por-departamento/diccionario_clae2.csv")
empleo <- merge(empleo,clae, by = "clae2")
empleo_sect <- empleo[, .(total = sum(puestos)), by = . (fecha,letra_desc)]
empleo_tot <- empleo[, .(total = sum(puestos)), by = . (fecha)]
ggplot(empleo_tot, aes(x=fecha, y= total)) +
geom_area(color="turquoise4",  fill="#69b3a2", alpha=0.4) +
geom_line(color="#69b3a2", size=2) +
geom_point(size=3, color="#69b3a2") +
theme_light() +
labs(x="Año", y="Investigadores", title="Empleo formal en la Provincia") +
theme(plot.title = element_text(hjust=0.5, size=20, face="bold"))
## Buscar como mostrar puestos de mepleo por sector
empleo <- subset(empleo, empleo$puestos > 0)
empleo <- subset(empleo, empleo$id_provincia_indec == 22)
clae <- fread("https://cdn.produccion.gob.ar/cdn-cep/datos-por-departamento/diccionario_clae2.csv")
empleo <- merge(empleo,clae, by = "clae2")
empleo_sect <- empleo[, .(total = sum(puestos)), by = . (fecha,letra_desc)]
empleo_tot <- empleo[, .(total = sum(puestos)), by = . (fecha)]
ggplot(empleo_tot, aes(x=fecha, y= total)) +
geom_area(color="turquoise4",  fill="#69b3a2", alpha=0.4) +
geom_line(color="#69b3a2", size=2) +
geom_point(size=3, color="#69b3a2") +
theme_light() +
labs(x="Año", y="Investigadores", title="Empleo formal en la Provincia") +
theme(plot.title = element_text(hjust=0.5, size=20, face="bold"))
ggplot(empleo_tot, aes(x=fecha, y= total)) +
geom_area(color="turquoise4",  fill="#69b3a2", alpha=0.4) +
geom_line(color="#69b3a2", size=2) +
geom_point(size=3, color="#69b3a2") +
theme_light() + ylim(65000,83000)
ggplot(empleo_tot, aes(x=fecha, y= total)) +
geom_area(color="turquoise4",  fill="#69b3a2", alpha=0.4) +
geom_line(color="#69b3a2", size=2) +
geom_point(size=3, color="#69b3a2") +
theme_light() + ylim(65000,83000) +
labs(x="Año", y="Investigadores", title="Empleo formal en la Provincia") +
theme(plot.title = element_text(hjust=0.5, size=20, face="bold"))
ggplot(empleo_tot, aes(x=fecha, y= total)) +
geom_area(color="turquoise4",  fill="#69b3a2", alpha=0.4) +
geom_line(color="#69b3a2", size=2) +
theme_light() + ylim(65000,83000) +
labs(x="Año", y="Investigadores", title="Empleo formal en la Provincia") +
theme(plot.title = element_text(hjust=0.5, size=20, face="bold"))
ggplot(empleo_tot, aes(x=fecha, y= total)) +
geom_area(color="turquoise4",  fill="#69b3a2", alpha=0.4) +
geom_line(color="#69b3a2", size=2) +
theme_light() + ylim(65000,83000) +
labs(x="Año", y="Investigadores", title="Empleo formal en la Provincia") +
theme(plot.title = element_text(hjust=0.5, size=20, face="bold"))
ggplot(empleo_tot, aes(x=fecha, y= total)) +
geom_area(color="turquoise4",  fill="#69b3a2", alpha=0.4) +
geom_line(color="#69b3a2", size=2) +
theme_light() + ylim(70000,83000) +
labs(x="Año", y="Investigadores", title="Empleo formal en la Provincia") +
theme(plot.title = element_text(hjust=0.5, size=20, face="bold"))
empleo <- fread("https://cdn.produccion.gob.ar/cdn-cep/datos-por-departamento/puestos/puestos_depto_priv_por_clae2.csv")
library(data.table)
library(tidyverse)
library(readxl)
empleo <- fread("https://cdn.produccion.gob.ar/cdn-cep/datos-por-departamento/puestos/puestos_depto_priv_por_clae2.csv")
empleo <- subset(empleo, empleo$puestos > 0)
empleo <- subset(empleo, empleo$id_provincia_indec == 22)
clae <- fread("https://cdn.produccion.gob.ar/cdn-cep/datos-por-departamento/diccionario_clae2.csv")
empleo <- merge(empleo,clae, by = "clae2")
empleo_sect <- empleo[, .(total = sum(puestos)), by = . (fecha,letra_desc)]
empleo_tot <- empleo[, .(total = sum(puestos)), by = . (fecha)]
ggplot(empleo_tot, aes(x=fecha, y= total)) +
geom_area(color="turquoise4",  fill="#69b3a2", alpha=0.4) +
geom_line(color="#69b3a2", size=2) +
theme_light() + ylim(70000,83000) +
labs(x="Año", y="Puestos de Empleo Formal", title="Evolución del Empleo Formal") +
theme(plot.title = element_text(hjust=0.5, size=20, face="bold"))
## Buscar como mostrar puestos de mepleo por sector
View(empleo_tot)
View(empleo_sect)
## Buscar como mostrar puestos de mepleo por sector
setorder(empleo_sect, fecha)
View(empleo_sect)
empleo_sect[, varia := total/shift(total), by .(letra_desc)]
empleo_sect[, varia := total/shift(total), by =.(letra_desc)]
View(empleo_sect)
empleo_sect[, varia := ((total/shift(total))-1)*100, by =.(letra_desc)]
View(empleo_sect)
View(empleo)
empleo_sect <- empleo[, .(total = sum(puestos)), by = . (fecha,letra,letra_desc)]
empleo_sect[, varia := ((total/shift(total))-1)*100, by =.(letra,letra_desc)]
## Buscar como mostrar puestos de mepleo por sector
setorder(empleo_sect, fecha)
empleo_sect[, varia := ((total/shift(total))-1)*100, by =.(letra,letra_desc)]
View(empleo_sect)
treemap(empleo_sect,
index="letra_desc",
vSize="total",
type="index"
)
library(treemap)
treemap(empleo_sect,
index="letra_desc",
vSize="total",
type="index"
)
install.packages("treemap")
library(treemap)
library(treemap)
treemap(empleo_sect,
index="letra_desc",
vSize="total",
type="index"
)
treemap(empleo_sect,
index="letra_desc",
vSize="total",
type="total"
)
treemap(empleo_sect,
index="letra_desc",
vSize="total",
type="total"
)
treemap(empleo_sect,
index="letra_desc",
vSize="total",
type="vSize"
)
treemap(empleo_sect,
index="letra_desc",
vSize="total",
type="index"
)
install.packages("treemapify")
library(treemapify)
install.packages("ggplot2")
library(ggplot2)
ggplot(df, aes(area = value, fill = value, label = group)) +
geom_treemap() +
geom_treemap_text(colour = c(rep("white", 2),
1, rep("white", 6)),
place = "centre", size = 15) +
scale_fill_viridis_c()
install.packages("ggplot2")
treemap(empleo_sect,
index="letra_desc",
vSize="total",
type="index",title = " "
)
treemap(empleo_sect,
index="letra_desc",
vSize="total",
type="index",title = " ",aspRatio = 2
)
treemap(empleo_sect,
index="letra_desc",
vSize="total",
type="index",title = " ", palette = colorRampPalette(1)
)
treemap(empleo_sect,
index="letra_desc",
vSize="total",
type="index",title = " ", palette = colorRampPalette(1)
)
treemap(empleo_sect,
index="letra_desc",
vSize="total",
type="index",title = " ", palette = colorRampPalette()
)
treemap(empleo_sect,
index="letra_desc",
vSize="total",
type="index",title = " "
)
ggplot(df, aes(area = total, fill = total)) +geom_treemap()
ggplot(df, aes(area = total, fill = letra)) +geom_treemap()
ggplot(empleo_sect, aes(area = total, fill = letra)) +geom_treemap()
ggplot(empleo_sect, aes(area = total, fill = letra_desc)) + geom_treemap()
ggplot(empleo_sect, aes(area = total, fill = letra_desc, label = total)) + geom_treemap()
ggplot(empleo_sect, aes(area = total, fill = letra, label = total)) + geom_treemap()
last_empl <- subset(empleo_sect,empleo_sect$fecha == "2014-01-01")
ggplot(empleo_sect, aes(area = total, fill = letra, label = total)) + geom_treemap()
ggplot(last_empl, aes(area = total, fill = letra, label = total)) + geom_treemap()
ggplot(last_empl, aes(area = total, fill = letra,
label = paste(letra, value, sep = "\n")))) + geom_treemap()
ggplot(last_empl, aes(area = total, fill = letra,
label = paste(letra, total, sep = "\n")))) + geom_treemap()
ggplot(last_empl, aes(area = total, fill = letra,
label = paste(letra, total, sep = "\n"))) + geom_treemap()
ggplot(last_empl, aes(area = total, fill = letra,
label = paste(letra, total, sep = "\n"))) + geom_treemap() +
geom_treemap_text()
ggplot(last_empl, aes(area = total, fill = letra,
label = paste(letra_desc, total, sep = "\n"))) + geom_treemap() +
geom_treemap_text()
ggplot(last_empl, aes(area = total, fill = letra,
label = paste(letra_desc, total, sep = "\n"))) + geom_treemap() +
geom_treemap_text(colour = "white",
place = "centre",
size = 15)
ggplot(last_empl, aes(area = total, fill = letra_desc,
label = paste(letra_desc, total, sep = "\n"))) + geom_treemap() +
geom_treemap_text(colour = "white",
place = "centre",
size = 15)
ggplot(last_empl, aes(area = total, fill = letra_desc,
label = paste(letra_desc, total, sep = "\n"))) + geom_treemap() +
geom_treemap_text(colour = "white",
place = "centre",
size = 15)
ggplot(last_empl, aes(area = total, fill = letra_desc,
label = paste(letra_desc, total, sep = "\n"))) + geom_treemap() + geom_treemap_text(colour = "white",
place = "centre",
size = 15)
ggplot(last_empl, aes(area = total, fill = letra_desc,
label = paste(letra_desc, total, sep = "\n"))) + geom_treemap() + geom_treemap_text(colour = "white",
place = "centre",
size = 15)
ggplot(last_empl, aes(area = total, fill = letra,
label = paste(letra, total, sep = "\n"))) + geom_treemap() + geom_treemap_text(colour = "white",
place = "centre",
size = 15)
ggplot(last_empl, aes(area = total, fill = letra,
label = paste(letra, total, sep = "\n"))) + geom_treemap() + geom_treemap_text(colour = "white",
place = "centre",
size = 9)
last_empl$letra_desc <- tolower(last_empl$letra_desc)
ggplot(last_empl, aes(area = total, fill = letra,
label = paste(letra, total, sep = "\n"))) + geom_treemap() + geom_treemap_text(colour = "white",
place = "centre",
size = 9)
ggplot(last_empl, aes(area = total, fill = letra,
label = paste(letra, total, sep = "\n"))) + geom_treemap() + geom_treemap_text(colour = "white",
place = "centre",
size = 9)
ggplot(last_empl, aes(area = total, fill = letra,
label = paste(letra_desc, total, sep = "\n"))) + geom_treemap() + geom_treemap_text(colour = "white",
place = "centre",
size = 9)
last_empl$letra_desc <- tolower(last_empl$letra_desc)
treemap(empleo_sect,
index= paste0(empleo_sect$letra_desc,empleo_tot),
vSize="total",
type="index",title = "Empleo por Sectores"
)
empleo_sect[, label := paste0(empleo_sect$letra_desc,empleo_tot)]
View(empleo_sect)
library(treemapify)
treemap(empleo_sect,
index= "label",
vSize="total",
type="index",title = "Empleo por Sectores"
)
library(treemap)
treemap(empleo_sect,
index= "label",
vSize="total",
type="index",title = "Empleo por Sectores"
)
View(empleo_sect)
treemap(empleo_sect,
index= "label",
vSize="total",
type="index",title = "Empleo por Sectores"
)
View(empleo_sect)
emplo_last <- subset(empleo_sect , empleo_sect$fecha == "2022-06-01")
emplo_last[, label := paste0(emplo_last$letra_desc,empleo_tot)]
library(treemap)
treemap(empleo_sect,
index= "label",
vSize="total",
type="index",title = "Empleo por Sectores"
)
treemap(emplo_last,
index= "label",
vSize="total",
type="index",title = "Empleo por Sectores"
)
treemap(emplo_last,
index= "label",
vSize="total",
type="label", title = "Empleo por Sectores"
)
treemap(emplo_last,
index= "label",
vSize="total", title = "Empleo por Sectores"
)
treemap(emplo_last,
index= c("label"),
vSize="total",
type="index", title = "Empleo por Sectores"
)
treemap(emplo_last,
index= c("label"),
vSize="total",
type="value", title = "Empleo por Sectores"
)
treemap(emplo_last,
index= c("label"),
vSize="total",
vColor = "letra",
type="value", title = "Empleo por Sectores"
)
emplo_last <- subset(empleo_sect , empleo_sect$fecha == "2022-06-01")
emplo_last[, label := paste0(emplo_last$letra_desc,empleo_tot)]
emplo_last[, label := paste0(letra_desc,empleo_tot)]
treemap(emplo_last, index = c("label"),
vSize = "total",
type = "index")
treemap(emplo_last, index = c("label"),
vSize = "total",
type = "index",
title = " ")
treemap(emplo_last, index = "label",
vSize = "total",
type = "index",
title = " ")
treemap(emplo_last, index = "letra",
vSize = "total",
type = "index",
title = " ")
treemap(emplo_last, index = "label",
vSize = "total",
type = "index",
title = " ")
treemap(emplo_last, index = "empleo_tot",
vSize = "total",
type = "index",
title = " ")
treemap(emplo_last, index = "empleo_tot",
vSize = "empleo_tot",
type = "index",
title = " ")
View(empleo_sect)
emplo_last[, label := paste0(letra_desc,total)]
library(treemap)
treemap(emplo_last, index = "empleo_tot",
vSize = "empleo_tot",
type = "index",
title = " ")
treemap(emplo_last, index = "label",
vSize = "empleo_tot",
type = "index",
title = " ")
treemap(emplo_last, index = "label",
vSize = "total",
type = "index",
title = " ")
emplo_last[, label := paste0(letra_desc, "</br>",total)]
library(treemap)
treemap(emplo_last, index = "label",
vSize = "total",
type = "index",
title = " ")
emplo_last[, label := paste0(letra_desc,total, sep = "\n")]
library(treemap)
treemap(emplo_last, index = "label",
vSize = "total",
type = "index",
title = " ")
emplo_last[, label := paste(letra_desc,total, sep = "\n")]
library(treemap)
treemap(emplo_last, index = "label",
vSize = "total",
type = "index",
title = " ")
View(empleo_sect)
emplo_last$letra_desc <- gsub(emplo_last$letra_desc, pattern = "; REPARACIÓN DE VEHÍCULOS AUTOMOTORES Y MOTOCICLETAS", replacement = " ")
library(treemap)
treemap(emplo_last, index = "label",
vSize = "total",
type = "index",
title = " ")
emplo_last$letra_desc <- gsub(emplo_last$letra_desc, pattern = "COMERCIO AL POR MAYOR Y AL POR MENOR; REPARACIÓN DE VEHÍCULOS AUTOMOTORES Y MOTOCICLETAS", replacement = "COMERCIO AL POR MAYOR Y AL POR MENOR")
library(treemap)
treemap(emplo_last, index = "label",
vSize = "total",
type = "index",
title = " ")
emplo_last$letra_desc <- gsub(emplo_last$letra_desc, pattern = "COMERCIO AL POR MAYOR Y AL POR MENOR; REPARACIÓN DE VEHÍCULOS AUTOMOTORES Y MOTOCICLETAS", replacement = "COMERCIO AL POR MAYOR Y AL POR MENOR")
library(treemap)
treemap(emplo_last, index = "label",
vSize = "total",
type = "index",
title = " ")
emplo_last[, label := paste(letra_desc,total, sep = "\n")]
library(treemap)
treemap(emplo_last, index = "label",
vSize = "total",
type = "index",
title = " ")
emplo_last[, label := paste(letra_desc,total, sep = "</br>")]
library(treemap)
treemap(emplo_last, index = "label",
vSize = "total",
type = "index",
title = " ")
emplo_last[, label := paste(letra_desc,total, sep = " ")]
library(treemap)
treemap(emplo_last, index = "label",
vSize = "total",
type = "index",
title = " ")
